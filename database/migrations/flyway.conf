# Flyway Configuration for Database Migrations
# Automated, version-controlled database schema management

# JDBC URL
flyway.url=jdbc:postgresql://postgresql.docuthinker-prod.svc.cluster.local:5432/docuthinker

# Database credentials (use environment variables in production)
flyway.user=${POSTGRES_USER}
flyway.password=${POSTGRES_PASSWORD}

# Schema to manage
flyway.schemas=public

# Migration locations
flyway.locations=filesystem:./sql

# Table to track migration history
flyway.table=schema_version

# Encoding
flyway.encoding=UTF-8

# Baseline version
flyway.baselineVersion=1
flyway.baselineDescription=Initial baseline

# Baseline on migrate
flyway.baselineOnMigrate=false

# Validate migrations
flyway.validateOnMigrate=true

# Clean disabled (safety)
flyway.cleanDisabled=true

# Out of order migrations
flyway.outOfOrder=false

# Placeholder replacement
flyway.placeholderReplacement=true
flyway.placeholders.environment=production
flyway.placeholders.appName=docuthinker

# Migration file patterns
flyway.sqlMigrationPrefix=V
flyway.sqlMigrationSeparator=__
flyway.sqlMigrationSuffixes=.sql

# Repeatable migrations
flyway.repeatableSqlMigrationPrefix=R

# Callbacks
flyway.callbacks=

# License key (for Flyway Teams)
# flyway.licenseKey=

# Error overrides
flyway.errorOverrides=

# Connect retries
flyway.connectRetries=3
flyway.connectRetriesInterval=10

# Lock retry
flyway.lockRetryCount=50

# Mixed mode
flyway.mixed=false

# Group pending migrations
flyway.group=false

# Installed by
flyway.installedBy=flyway-ci-cd

# Target version (empty = latest)
flyway.target=

# Cherry pick migrations
flyway.cherryPick=

# Skip executing migrations
flyway.skipExecutingMigrations=false

# Output type
flyway.outputType=json

# Stream mode
flyway.stream=false

# Batch mode
flyway.batch=false
